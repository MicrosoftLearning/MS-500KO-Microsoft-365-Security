# 모듈 11 - 랩 1 - 연습 2 - DLP 정책 테스트


이제 파일럿 프로젝트에서 정책을 테스트하는 단계를 진행합니다. 중요한 정보가 포함된 전자 메일 관련 DLP 정책을 테스트하기로 결정했습니다. 


### 작업 1 - 중요한 전자 메일용 DLP 정책 테스트

이전 연습에서는 사용자 지정 DLP 정책을 만들었습니다. 이 정책은 Adatum 테넌트에서 전자 메일을 검색하여 미국 사회 보장 번호와 관련된 중요한 정보 포함 여부를 확인합니다. 이 연습에서는 Holly Dickson의 계정에서 Alex Wilber에게 사회 보장 번호가 포함된 전자 메일을 보냅니다.

1. 클라이언트 1 VM(**LON-CL1**)로 전환합니다. 이 VM에서는 Microsoft 365에 Holly Dickson(**holly@M365xZZZZZZ.onmicrosoft.com**, 암호 `Pa55w.rd`) 으로 로그인되어 있어야 합니다. 

2. 이제 Holly의 계정에서 미국 사회 보장 번호가 포함된 전자 메일을 Alex에게 보냅니다. **Microsoft Edge**에 Holly의 **웹용 Outlook** 탭이 열려 있어야 합니다. **웹용 Outlook** 탭을 선택합니다.  이 탭이 열려 있지 않으면 브라우저에서 `https://portal.office.com`을 열고 Holly Dickson으로 로그인되어 있는지 확인한 후에 **Outlook**을 선택합니다.

3. 화면 왼쪽 위에서 **새 메시지**를 선택합니다. 

4. 화면 오른쪽에 표시되는 메시지 창에 다음 정보를 입력합니다.

	- 받는 사람: `Alex`를 입력하면 드롭다운 메뉴에 이름이 Alex로 시작하는 사용자가 표시됩니다. **Alex Wilber**를 선택합니다.

	- 제목 추가: `DLP Policy Test`

	- 메시지 영역: `This customer has social security number: 123-45-6789`를 입력합니다.


6. **보내기**를 선택합니다.

7. 이제 Holly의 계정에서 사회 보장 번호 여러 개가가 포함된 두 번째 메시지를 Alex에게 보냅니다.  **Outlook**의 화면 왼쪽 위에서 **새 메시지**를 선택합니다. 

8. 화면 오른쪽에 표시되는 메시지 창에 다음 정보를 입력합니다.

	- 받는 사람: `Alex`를 입력하면 드롭다운 메뉴에 이름이 Alex로 시작하는 사용자가 표시됩니다. **Alex Wilber**를 선택합니다.

	- 제목 추가: `multiple SSN test`

	- 메시지 영역: `SSN = 123 45 6789 and another customer SSN 111 11 1111 and a third 222 22 2222`

11. **보내기**를 선택합니다.

12. 클라이언트 2 VM(**LON-CL2**)으로 전환합니다. 

13. VM에 로그인해야 하는 경우 기본적으로 **관리자** 계정이 표시됩니다. **암호** 필드에 `Pa55w.rd`를 입력하여 로그인합니다. 

14. 클라이언트 2 VM(**LON-CL2**)으로 전환합니다.

15. **Edge** 브라우저에 로그인되어 있는 세션이 있으면 현재 사용자 계정에서 로그아웃하고 **Edge** 브라우저 탭을 모두 닫습니다.

16. **Edge** 브라우저를 열고 창을 최대화한 다음 주소 표시줄에 다음 URL을 입력합니다. `https://outlook.office365.com`

17. **웹용 Outlook**에 **Alex Wilber**로 로그인해야 합니다. Alex는 전에 로그인한 적이 없으므로 **계정 선택** 창이 표시되어도 Alex의 계정은 표시되지 않습니다. 따라서 **다른 계정 사용**을 선택해야 합니다. 

18. **로그인** 창에 **AlexW@M365xZZZZZZ.onmicrosoft.com**을 입력하고(여기서 ZZZZZZ는 랩 호스팅 공급자가 제공한 고유 테넌트 ID) **다음**을 선택합니다.

19. **암호 입력** 창에 Alex의 암호를 입력하고(힌트: Alex의 암호는 MOD 관리자 암호와 동일할 가능성이 높음) **로그인**을 선택합니다.

20. **로그인 상태를 유지하시겠습니까?** 창에서 **이 메시지를 다시 표시 안 함**을 선택하고 **예**를 선택합니다.

21. 이 사이트에 처음 액세스하는 경우에는 언어 설정과 표준 시간대를 선택하라는 메시지가 표시될 수 있습니다.

	- **언어** 드롭다운에서 **영어(미국)** 를 선택합니다.

	- **표준 시간대** 드롭다운에서 원하는 표준 시간대를 선택합니다.

22. **저장**을 선택합니다.

23. 새 Outlook을 사용해 볼 것인지를 묻는 창이 표시되면 **새로워진 Outlook을 이용해 보세요.** 를 선택합니다.

24. **환영** 창이 표시되면 지금 닫습니다.

25. **웹용 Outlook** 내 Alex의 **받은 편지함**에 Holly가 방금 Alex에게 보낸 전자 메일 메시지(SSN 번호 하나가 포함된 메시지)가 표시됩니다.

26. SSN이 여러 개 포함된 전자 메일은 차단되었으며, Holly의 받은 편지함(LON-CL1에 표시되어 있는 받은 편지함)에는 다음과 같은 경고 메시지가 표시됩니다.

     ![스크린샷](../Media/DLP_policy_validation.png)

27. 이 연습의 마지막 작업으로 Alex의 받은 편지함에서 메시지를 삭제합니다. 사용자 지정 DLP 정책을 테스트했습니다.

28. 다음 랩을 위해 두 클라이언트 VM을 모두 열어 두세요. 브라우저 탭은 닫지 마세요.

**이 랩의 문제 해결**

"정책이 적용되지 않고 Alex에게 두 전자 메일이 모두 전송되었습니다."
  
1. DLP 정책이 테넌트로 전파되려면 시간이 다소 걸릴 수 있습니다.  이러한 현상이 발생하는 이유는, 정책이 전파되어 테넌트에서 후속 검사가 진행되기 전에 Alex에게 전자 메일을 보냈기 때문일 가능성이 높습니다.  이 경우에는 나중에 이 랩으로 돌아와 전자 메일을 다시 보내 보세요.

2. 전자 메일 본문에서 SSN 서식을 올바르게 지정하지 않았기 때문일 수도 있습니다.  DLP 정책의 중요한 정보 유형은 해당 데이터 형식에 흔히 사용되는 특정 방식으로 서식이 지정된 데이터를 검사합니다.  아래 링크를 클릭하면 DLP 정책 검사에서 검색될 수 있도록 콘텐츠에서 미국 사회 보장 번호의 서식을 지정하는 정확한 방법을 확인할 수 있습니다.
[https://docs.microsoft.com/ko-kr/microsoft-365/compliance/what-the-sensitive-information-types-look-for?view=o365-worldwide#us-social-security-number-ssn](https://docs.microsoft.com/ko-kr/microsoft-365/compliance/what-the-sensitive-information-types-look-for?view=o365-worldwide#us-social-security-number-ssn)

3. DLP 정책 구성을 확인합니다. 이전 연습의 설명에 따라 정책을 구성했는지 확인합니다.

이 랩에서는 다양한 DLP 정책 구성을 테스트할 수 있습니다. 이 랩을 정상적으로 완료한 후에는 다른 결과가 나타나도록 해당 DLP 정책을 다시 구성해 보는 것이 좋습니다.


# 랩 종료
